---
import cv from "../content/cv.json";
import "../styles/cv.css";

const year = new Date().getFullYear();
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{cv.seo.title}</title>
    <meta name="description" content={cv.seo.description} />
  </head>
  <body>
    <div class="page">
      <div class="actions">
        <button class="print-btn" type="button" onclick="window.print()">Print / Save as PDF</button>
      </div>

      <div class="top-rule"></div>
      <div class="red-rule"></div>

      <header class="masthead">
        <div class="masthead-left">
          <h1>
            {cv.masthead.firstName}<br />
            <em>{cv.masthead.lastName}</em>
          </h1>
        </div>
        <div class="masthead-right">
          <div class="masthead-title">{cv.masthead.titleLine}</div>
          <div class="contact-line">
            {cv.masthead.phone}<br />
            <a href={`mailto:${cv.masthead.email}`}>{cv.masthead.email}</a>
          </div>
        </div>
      </header>

      <hr class="masthead-divider" />

      <div class="profile-grid">
        <div class="profile-main">
          <div class="section-head"><h2>{cv.executiveProfileHeading ?? "Executive Profile"}</h2></div>
          {cv.executiveProfile?.map((para) => (
            <p class="profile-text">{para}</p>
          ))}

          <div class="capability-print print-only">
            <div class="section-head"><h2>Board &amp; Executive Capability</h2></div>
            <div class="capability-list">
              {cv.capabilities?.map((t) => (
                <span class="capability-tag">{t}</span>
              ))}
            </div>
          </div>
        </div>

        <div class="profile-side">
          <div class="sidebar-section">
            <div class="section-head"><h2>Board &amp; Executive Capability</h2></div>
            <div class="capability-list">
              {cv.capabilities?.map((t) => (
                <span class="capability-tag">{t}</span>
              ))}
            </div>
          </div>
        </div>
      </div>

      <div class="full-wrap">
        <div class="section-head"><h2>Career Highlights</h2></div>
        <ul class="highlight-list">
          {cv.careerHighlights?.map((h) => (
            <li>{h}</li>
          ))}
        </ul>
      </div>

      <section class="career-wrap">
        <div class="section-head"><h2>Professional Experience</h2></div>

        {cv.professionalExperience?.map((r) => (
          <div class="role">
            <div class="role-header">
              <div class="role-meta">
                <div class="role-company">{r.company}</div>
                <div class="role-dates">{r.dates}</div>
              </div>
              <div class="role-title">{r.title}</div>
            </div>
            {r.summary ? <p class="role-summary">{r.summary}</p> : null}
            <div class="impact-label">Impact &amp; Scope</div>
            <ul class="role-points">
              {r.impact?.map((p) => (
                <li>
                  {p.text}
                  {p.subPoints?.length ? (
                    <ul class="sub-points">
                      {p.subPoints.map((sp) => (
                        <li>{sp}</li>
                      ))}
                    </ul>
                  ) : null}
                </li>
              ))}
            </ul>
          </div>
        ))}

        <div class="early-career">
          <div class="section-head"><h2>Earlier Career</h2></div>
          {cv.earlierCareerIntro ? <p class="early-intro">{cv.earlierCareerIntro}</p> : null}
          <div class="early-grid">
            {cv.earlierCareer?.map((e) => (
              <div class="early-role">
                <span class="early-company">{e.company}</span>
                <span class="early-divider"></span>
                <span class="early-title">
                  {e.title}
                  {e.dates ? <span class="early-dates"> · {e.dates}</span> : null}
                </span>
              </div>
            ))}
          </div>
        </div>
      </section>

      <div class="edu-bottom">
        <div class="section-head"><h2>Education</h2></div>
        <div class="edu-bottom-grid">
          {cv.educationBottom?.map((ed) => (
            <div class="edu-item">
              <div class="edu-qual">{ed.qualification}</div>
              <div class="edu-inst">{ed.institution}</div>
            </div>
          ))}
        </div>
      </div>

      <footer class="footer">
        <div class="footer-text">
          {cv.footer.left} · {year}
        </div>
        <div class="footer-name">{cv.footer.right}</div>
      </footer>

      <div class="page-bottom-spacer" aria-hidden="true"></div>
    </div>
  </body>
</html>

